@page "/"
@using Autodize.Client.Services

@inject Notifier Notifier

<PageTitle>autodize</PageTitle>

<MudContainer Fixed="true">
    <MudGrid Justify="Justify.Center">
        @foreach (Tumbler tumbler in Tumblers)
        {
            <MudItem xs="12">
                <Tumbler OnRemoveCallback="Remove" />
            </MudItem>

            <MudItem xs="12" md="8" lg="6" xl="4">
                <MudDivider Class="my-6"/>
            </MudItem>
            
            <MudFlexBreak/>
            
            continue;

            void Remove(object e) => Tumblers.Remove(tumbler);
        }

        <MudItem xs="12" md="8" lg="6" xl="4">
            <MudButton Variant="Variant.Filled" Color="Color.Secondary" FullWidth="true"
                       OnClick="() => Tumblers.Add(new())">
                New Tumbler
            </MudButton>
        </MudItem>
    </MudGrid>
</MudContainer>

@code {

    private List<Tumbler> Tumblers { get; init; } = [new()];
    
}
